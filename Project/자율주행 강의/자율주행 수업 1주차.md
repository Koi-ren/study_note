강의자 : 뷰런 테크놀리지 - 변승환 연구원

# 자율주행 개요
## 자율주행이란?
- 차량이 운전자의 개입 없이 스스로 주행하는 기술
	- 주변 환경 인식(Perception)
	- 경로 계획(Planning)
	- 조향 가속 제동(Control)

## 자율주행차의 궁극적 목표
- 교통사고 감소
	- 이동 편의성 높임
	- 교통 흐름 개선

## 자율주행 레벨 분류
- SAE(미국 자동차공학회) 자율주행 레벨
![[자율주행 수업 1주차-20250410.png]]
레벨 2에서 레벨 3으로 넘어갈 때 책임 소재가 제조사로 넘어간다

# 자율주행의 기본 구성 요소
5가지 핵심 요소
- Sensing
- Perception
- Localization
- planning
- control
- 
![[자율주행 수업 1주차-20250410-1.png]]

## Modular 방식의 시스템 아키텍처
- ECU에서 처리
- 각 기능이 모듈화되어 독립적으로 구현 쉬움
- 팀 단위 개발/디버깅 유리
- 센서/기능 추가시 마다 복잡도 증가 및 모듈간 정보 손실 가능
## E2E 방식 기반의 아키텍처
- 센서 데이터를 입력받아 하나의 거대한 딥러닝 모델이 상황을 통합적으로 판단
- 조향, 가/감속 같은 명령도 한번에 처리
### Domain - Centralized 방식의 시스템 아키텍처
- 
![[자율주행 수업 1주차-20250410-2.png]]

### Zonal 방식의 시스템 아키텍처
- E2E 방식에 적합
![[자율주행 수업 1주차-20250410-3.png]]

## 인지(Perception)란?
- 자율주행 차량이 세상을 이해하게 해주는 기능
	- 객체 탐지(Detection)
	- 객체 추적(Tracking)
	- 예측(Prediction)
	- 모두 센서 데이터 기반 동작
## 주요 센서 기술
- LiDAR
	- 장점: 정밀한 3D 정보, 직접적 거리 측정, 날씨/조명 영향 적음
	- 단점: 
		- 고가
		- 데이터 처리 복잡
		- 일부 악천후에 취약(눈, 비)
	- 용도
		- 정밀 3D 맵핑, 장애물 감지, 객체 검출 및 추적
- 카메라
	- 장점:
		- 높은 해상도
		- 색상 정보
		- 질감 인식
		- 저렴한 비용
	- 단점:
		- 조명 조건에 민감
		- 날씨 영향
	- 용도:
		- 차선 인식
		- 객체 분류
- 레이다

![[자율주행 수업 1주차-20250410-4.png]]
## 센서 융합
센서 융합이 필요한 이유:
- 각 센서 마다의 장단점이 다르기 때문

비용, 시스템 복잡도, 실시간성, 비용 전력 소모 등을 고려한 센서 셋업을 고민해야함

# LiDAR 기본 원리와 데이터 구조
## LIDAR 란?
- Light Detection And Tanging의 약자
	- 레이저를 발사하고 돌아오는 시간 측정

- 구조
	- 기계식 라이다
		- 회전하는 모터 이용 360도 스캔
		- 장점:
			- 넓은 시야 각(FoV) 확보
			- 상대적으로 고정밀, 고해상도
		- 단점:
			- 회전 부품으로 인한 내구성 저하

	- 솔리드 스테이트 라이다
		- 회전 부품 없이 고정형 구조
		- 장점
			- 소형화 경량화 가능
				- 양산 차량에 적합
			- 높은 내구성, 낮은 가격, 일관된 신뢰성 확보
		- 단점:
			- 시야각 및 거리제한
			- 해상도나 정밀도가 낮음

	- 작동 원리
		- TOF(Time-of-Flight)![[자율주행 수업 1주차-20250410-5.png]]
			- 레이저 펄스 발사
			- 물체에 반사
			- 돌아오는 시간을 측정
			- 구조 간단하지만 속도 정보 측정 불가
			- 외부 환경 민감
		- FMCW

	- 라이다 데이터 획득
		- 포인트 클라우드
			- 3D 공산상의 점들의 집합
			- x, y, z 3D 공간 좌표
			- (Intensity)반사 강도
			- 레이저 채널 정보
			- (timestamp)측정 시간

		- 포인트 클라우드 전처리
			- 다운 샘플링
				- 데이터 크기 감소 및 처리 속도 향상
				- 복셀(Voxel)과 그리드(Grid)
					- 복셀: 3차원 공간을 일정한 크기의 큐브 단위로 나누는 개념
					- 그리드: 이 복셀들을 3D 공간에 깔아 높은 격자 구조
					![[자율주행 수업 1주차-20250410-6.png]]
			- 거리 기반 필터링
				- 너무 가까운 포인트나 먼 것을 제거 필요한 경우 있음
					- 일정 거리 범위 내의 포인트만 선택
					- 원점으로 부터의 거리 계산
				- 노면 검출 시, ROI 설정
				- 센서 자체의 잡음 제거
				- FoV 밖 포인트 제거
![[자율주행 수업 1주차-20250410-8.png]]
![[자율주행 수업 1주차-20250410-7.png]]

포인트 클라우드 좌표계![[자율주행 수업 1주차-20250410-9.png]]
![[자율주행 수업 1주차-20250410-10.png]]

 3D 데이터 2D 변환
- 구조화된 데이터로 변환
	- 표인트 클라우드는 비정형 데이터
	- 2D 이미지 표현은 영상처리 기술 적용 쉬움
- 연산 효율성 향상
- 센서 특성을 효과적으로 반영 가능

Range Image
- 포인트 크라우드를 센서 시점에서 바라본 2D 이미지 형태로 변환한 것
BEV Image
- 포인트 클라우드를 위에서 바라본 것

Range Image
- 구면 좌표계로 변환
- 가로축: 수평 각도(Azimuth, Theta)
- 세로축: 수직 각도(Elevation, Phi)

![[자율주행 수업 1주차-20250410-11.png]]
Range Image 좌표계로 정규화
- 픽셀 값: 거리(r), 
![[자율주행 수업 1주차-20250410-12.png]]

BEV란?
- 포인트 클ㄹ라

노면 검출의 중요성
- 자율주행에서 노면 검출이 중요한 이유
	- 데이터 감소
	- 주행 가능 영역 판단
	- 장애물 구분
	- 객체 검출 정확도 향상
- 노면 검출의 과제
	- 다양한 도로 경사와 굴곡
	- 연석, 둔덕 등 작은 단차 구분
	- 원거리일 수록 데이터 밀도 감소
- ![[자율주행 수업 1주차-20250410-13.png]]
높이 기반 노면 검출
![[자율주행 수업 1주차-20250410-14.png]]

그리드 기반 노면 검출
![[자율주행 수업 1주차-20250410-15.png]]
- 높이 기반보다 그리드 기반이 노면 검출 시 유리

평면 피팅 기반 노면 검출
![[자율주행 수업 1주차-20250410-16.png]]
- 평면 피팅과 그리드 기반을 합쳐 하이브리드 알고리즘으로 사용하기도 함

딥러닝 기반 노면 검출
- 규칙 기반이 아닌 데이터 기반이기에 일반화 가능
- Semantic Segmentation을 사용
- ![[자율주행 수업 1주차-20250410-17.png]]

Intensity 기반 차선 검출
- ![[자율주행 수업 1주차-20250410-18.png]]
- ![[자율주행 수업 1주차-20250410-19.png]]
- ![[자율주행 수업 1주차-20250410-20.png]]
- ![[자율주행 수업 1주차-20250410-21.png]]

