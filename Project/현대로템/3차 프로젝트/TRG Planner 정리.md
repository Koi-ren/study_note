---
작성 연월일: 2025-04-12
작성자: 박현호
노트 유형: 논문 요약 정리
---
논문명: [TRG-planner: Traversal Risk Graph-Based Path Planning in Unstructured Environments for Safe and Efficient Navigation](https://arxiv.org/pdf/2501.01806)
번역 자료 : [[TRG 논문 번역]]

이 노트는 위 논문을 정리한 것이며, 현대로템 방산 AI 3차 프로젝트에서 비정형 환경에서의 주행에 도움을 줄 것으로 기대하며 작성한 것이다

---

# 1. 서론
- **안전하고 효율적인 경로 계획**
  - 모바일 로봇의 자율 주행 성공에 필수적인 요소이다
  - 전통적으로 **시작 지점에서 목표 지점까지 충돌 없는 경로**로 정의되었다
- **비정형 환경**(산악, 동굴, 건설 현장, 재난 지역)에서는 불규칙한 지형으로 인해 안전한 경로의 개념이 모호해진다
  - **안전성 척도**가 단순 충돌 회피를 넘어 확장되었기 때문이다
  - 예:
    - **경사도**: 가파른 경사는 로봇의 안정성을 저하시킬 수 있다
    - **거칠기**: 울퉁불퉁한 지형은 이동을 어렵게 한다
- **최근 기술 발전**
  - 모바일 로봇 플랫폼 및 다족 로봇의 이동 능력 향상으로 거친 지형 극복이 가능해졌다
  - 이를 통해 비정형 환경에서도 주행이 가능해졌다
- **문제점**
  - 비정형 환경에서 주행이 가능하더라도, 경로 계획이 안전하지 않으면 주행 실패 위험이 있다
- **해결 방향**
  - 경로 계획 시 **지형의 횡단 위험**을 고려해야 한다
  - 이를 통해 불안정한 주행으로 인한 **내비게이션 실패**를 방지할 수 있다

## 1.1 기존 방법의 한계
- **지형 안정성 기반 횡단 가능성 매핑**
  - 기존 방법은 주로 지형 안정성을 기준으로 횡단 가능성을 평가했다
  - 이는 로봇이 지형에서 정지 상태를 유지할 수 있는지를 판단하는 방식이다
- **한계점**
  - **진입 방향 고려 부족**: 로봇의 지형 진입 방향에 따라 안정성이 달라질 수 있음에도, 이를 반영하지 못한다
    - 예: 정면 진입은 안정적이나, 측면 진입은 불안정할 수 있다
  - **도달 가능성 미고려**: 로봇의 현재 자세에서 목표 위치까지 도달할 가능성을 평가하지 않는다
  - **상대적 위험 표현 부족**: 경로 후보 간의 상대적 위험도를 비교하거나 표현하는 데 한계가 있다
  - **센서 데이터 활용 한계**: 부분적인 센서 데이터를 활용해 지도 품질을 개선하는 데 초점을 맞췄기 때문에, 전역적 경로 계획에 필요한 정보가 부족하다

![[TRG Planner-20250412.png]]

---

# 2. 제안된 방법: TRG-planner
- **핵심 아이디어**
  - **횡단 위험 그래프(Traversal Risk Graph, TRG)**를 도입하여 비정형 환경에서 안전하고 효율적인 경로를 계획한다
  - TRG는 지형의 기하학적 정보를 모델링하며, **안전성과 도달 가능성**을 고려한 그래프 구조이다
- **구성 요소**
  - **노드**: 안전한 지형 영역을 나타내며, 안정성과 로봇의 도달 가능성으로 정의된다
  - **엣지**: 노드 간 경로 후보를 나타내며, 횡단 위험 가중치가 부여된다
- **특징**
  - 지역적으로 노드를 전파하고 엣지를 연결하며, 이를 전역 구조로 통합한다
  - 시간 효율적으로 계층적 그래프를 관리한다
  - 그래프 최적화를 통해 **위험도 낮고 거리 효율적인 경로**를 우선시한다

![[TRG Planner-20250412-1.png]]

## 2.1 주요 기여
- **TRG의 효과적 표현**
  - 횡단 가능한 환경을 실시간으로 구성하며, 경로 후보의 상대적 위험과 도달 가능성을 표현한다
- **새로운 전략 도입**
  - 지형 샘플링 및 그래프 구성 전략을 통해 비정형 환경의 횡단 특성을 효율적으로 모델링한다
- **실세계 검증**
  - 위험을 고려한 비용 함수 최적화를 통해 안전한 경로를 생성한다
  - ICRA 2023 4족 로봇 챌린지(QRC) 등 실세계 비정형 환경에서 성공적으로 검증되었다

---

# 3. 관련 연구
## 3.1 지도 표현
- **2D 점유 격자 지도**
  - 환경을 점유 공간과 자유 공간으로 단순 분류
  - 평평한 실내 환경에 적합하나, 복잡한 지형 정보 표현에 한계
- **3D 지도**
  - 완전한 3D 환경 표현 가능
  - 하지만 평면 주행 로봇의 경우 추가 계산 자원이 필요
- **2.5D 고도 지도**
  - 지형의 높이와 특성(경사, 거칠기 등)을 표현
  - 비정형 환경에 적합하여 본 연구에서 채택

## 3.2 횡단 가능성 고려 경로 계획
- **기하학적 접근**
  - 경사, 거칠기 등 지형 특성을 고려
  - 하지만 진입 방향이나 도달 가능성 미고려로 한계
- **의미적 정보 접근**
  - 진흙, 물 등 지형의 의미적 특성 처리
  - 대량의 라벨링 데이터 필요, 일반화 제한
- **학습 기반 접근**
  - 로봇 움직임을 예측해 횡단 가능성 추정
  - 국부적 최적화에 초점, 전역 경로의 안전성 보장 어려움

---

# 4. TRG 구성 및 계획
## 4.1 TRG 구성 요소
- **노드**: 로봇이 서 있을 수 있는 안전한 영역
  - **안정성**: 지형의 기하학적 안정성(g(ci))으로 판단
  - **도달 가능성**: 연결된 엣지 수(r(Ei))로 평가
- **엣지**: 경로 후보
  - **위험 가중치(wij)**: 지형 진입 방향에 따른 상대적 위험을 반영
  - 주성분 분석(PCA)을 활용해 경로 근처 지형을 타원 평면으로 근사
![[TRG Planner-20250412-2.png|600]]
## 4.2 TRG 구성
- **샘플링 기반 초기화**
  - 확률적 로드맵(PRM)과 유사하나, 로봇 위치 중심으로 점진적 샘플링
  - 시간 효율성을 위해 탐색 가능한 영역만 포함
- **구성 과정**
  - 노드 샘플링 → 횡단 위험 확인 → 엣지 연결
![[TRG Planner-20250412-3.png|600]]
![[TRG Planner-20250412-5.png|600]]
![[TRG Planner-20250412-4.png|600]]
## 4.3 TRG 관리
- **계층적 업데이트**
  - 전역 그래프 관리, 로봇 주변 국부 노드 추출
  - 프론티어 노드 식별 및 그래프 확장
  - ![[TRG Planner-20250412-9.png|600]]
  - ![[TRG Planner-20250412-10.png|600]]
- **통합**
  - 국부 그래프를 전역 그래프에 병합
![[TRG Planner-20250412-6.png|600]]
## 4.4 경로 계획
- **알고리즘**: A* 기반 탐색
- **비용 함수**
  - 거리와 횡단 위험을 동시에 고려
  - **안전 계수(Γ)**로 안전성과 효율성 균형 조정
  - ![[TRG Planner-20250412-8.png|600]]
- **동적 재계획**
  - 목표 위치 미포함 시 프론티어 노드를 서브 목표로 설정
  - 지형 변화 시 재계획 수행
![[TRG Planner-20250412-7.png|600]]

---

# 5. 실험 및 결과
## 5.1 실험 설정
![[TRG Planner-20250412-11.png|600]]
- **시뮬레이션**
  - 50m×50m 산악 환경(완만/가파른 경사 포함)
  - 비교: A*, PRM*, T-Hybrid
  - 전략: 낙관적(Γ=1.0), 균형(Γ=3.0), 보수적(Γ=10.0)
![[TRG Planner-20250412-12.png|600]]
- **실세계**
  - 산악, 언덕, QRC 아레나(램프, 계단 등)
  - Unitree Go1 4족 로봇 사용

## 5.2 평가 지표
- **경로 계획 성공률(Spath)**: 다양한 지형에서의 계획 성능
- **이동 성공률(Strav)**: 안정적 이동 가능 여부
- **이동 경로 편차(T)**: 실제 이동과 계획 경로의 유사성
- **정규화된 경로 위험(W)**: 경로의 안전 수준
![[TRG Planner-20250412-13.png|600]]
![[TRG Planner-20250412-14.png|600]]

## 5.3 결과
- **안전 전략 비교**
  - **낙관적**: 최단 경로, 하지만 위험 간과로 이동 성공률 낮음
  - **보수적**: 안전 우선, 긴 경로로 효율성 저하
  - **균형**: 안전성과 거리 효율성 간 최적 균형
- **기존 방법 비교**
  - TRG-planner는 높은 Spath와 Strav 달성
  - 계획 시간 단축, 모든 시나리오에서 우수
![[TRG Planner-20250412-15.png|600]]
![[TRG Planner-20250412-16.png|600]]

- **실세계**
  - 산악: 245m 안전 경로 계획 성공
  - 언덕: 안전한 진입 방향 선택
  - QRC 아레나: 복잡 지형 탐색 성공, 챌린지 우승
![[TRG Planner-20250412-17.png|600]]
![[TRG Planner-20250412-18.png|600]]
![[TRG Planner-20250412-20.png|600]]

---

# 6. 결론
- **TRG-planner**
  - 비정형 환경에서 **안전하고 효율적인 경로 계획**을 위한 새로운 접근
  - **TRG**: 지형의 도달 가능성과 상대적 위험을 실시간 표현
  - 시뮬레이션 및 실세계 검증 완료