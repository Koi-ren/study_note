논문명: [TRG-planner: Traversal Risk Graph-Based Path Planning in Unstructured Environments for Safe and Efficient Navigation](https://arxiv.org/pdf/2501.01806)

### I. 서론
안전하고 효율적인 경로 계획은 모바일 로봇이 자율 주행을 성공적으로 수행하는 데 필수적인 구성 요소입니다. 전통적으로 안전한 경로는 시작 지점에서 목표 지점까지 충돌이 없는 경로로 정의되었습니다[1]–[3]. 그러나 산악, 동굴, 건설 현장, 재난 지역과 같은 비정형 환경에서는 불규칙한 지형으로 인해 안전한 경로의 개념이 모호해집니다. 이는 경로의 안전성이 장애물 충돌뿐만 아니라 지형의 특성, 예를 들어 경사도와 거칠기 등에 의해서도 영향을 받기 때문입니다.

최근 모바일 로봇 플랫폼[4], [5] 또는 다족 로봇의 이동 능력[6]–[8]의 발전 덕분에 거친 지형을 극복할 수 있게 되어, 로봇은 이러한 비정형 환경에서도 주행할 수 있게 되었습니다. 그러나 견고한 이동 능력을 갖추고 있더라도, 거친 지형에서 계획된 경로가 안전하지 않으면 필연적으로 주행에 실패할 수 있습니다. 따라서 내비게이션 경로를 계획할 때, 지형의 횡단 위험을 고려하여 불안정한 주행으로 인한 내비게이션 실패를 방지해야 합니다.불안정한 지형을 피하기 위해 일부 연구자들은 안전한 영역을 식별하기 위한 횡단 가능성 매핑 방법을 제안했습니다[9]–[11]. 기존 방법들은 대개 지형 안정성을 기반으로 횡단 가능성을 표현하는데, 이는 로봇이 지형 위에서 정지 상태를 유지할 수 있음을 의미합니다. 그러나 이러한 방법들의 주요 목적은 부분적인 센서 측정값을 활용하여 내비게이션 중 지도 품질을 개선하는 것이기 때문에, 지형으로의 진입 방향에 따라 달라질 수 있는 경로 후보들의 상대적 위험을 표현하는 데는 부족합니다. 예를 들어, 로봇은 경사면에 정면으로 진입할 때는 안정성을 유지할 수 있지만, 측면에서 진입할 경우 불안정해질 수 있습니다. 또한, 로봇이 현재 자세에서 목표 위치에 도달할 수 있는 가능성을 의미하는 도달 가능성(reachability)은 횡단 가능성 지도에서 고려되지 않으며, 내비게이션 중에 확인되어야 합니다.

이러한 맥락에서, 우리는 그림 1에 나타난 바와 같이 지형의 기하학적 정보를 모델링하는 새로운 그래프 구조인 횡단 위험 그래프(Traversal Risk Graph, TRG)를 도입하여 안전하고 효율적인 경로를 찾는 계획 방법을 제안합니다. TRG는 노드와 엣지로 구성됩니다. 노드는 해당 지형의 안정성과 현재 로봇 자세로부터의 도달 가능성에 의해 결정된 안전한 영역을 나타냅니다. 엣지는 노드 간의 횡단 위험 가중치가 적용된 경로 후보들을 나타냅니다. 제안된 그래프는 지역 영역에서 노드를 순차적으로 전파하고 엣지를 연결하며, 이를 전역 구조로 통합하여 모든 도달 가능한 환경을 시간 효율적으로 계층적으로 관리할 수 있게 합니다. 우리는 TRG에서 안전한 경로 계획 문제를 그래프 최적화 문제로 정식화하여 위험도가 낮고 거리가 짧은 경로를 우선시합니다.

우리가 제안한 계획 방법인 TRG-planner는 시뮬레이션 환경에서 안전성과 거리 효율성 측면에서 기존 방법들을 능가합니다. 또한, TRG-planner는 4족 로봇을 사용한 실세계 환경에서도 검증되었습니다. 요약하자면, 본 논문의 주요 기여는 다음과 같습니다:

• 우리가 제안한 횡단 위험 그래프(TRG)는 횡단 가능한 환경을 효과적으로 구성하며, 경로 후보들의 상대적 위험과 도달 가능성을 실시간으로 표현합니다.
• TRG-planner는 비정형 환경의 횡단 특성을 효율적으로 표현하는 새로운 지형 샘플링 및 그래프 구성 전략을 도입합니다.
• TRG-planner는 위험을 고려한 비용 함수를 최적화하여 안전한 경로를 생성하며, ICRA 2023의 4족 로봇 챌린지(QRC)를 포함한 실세계 비정형 환경에서 성공적으로 검증되었습니다.
### II. 관련 연구
#### A. 경로 계획을 위한 지도 표현
환경 표현은 지도 기반 경로 계획에서 핵심적인 문제 중 하나입니다. 다양한 기존 지도 표현 방식[12]–[17]은 환경, 센서, 그리고 내비게이션 목적에 따라 선택됩니다. 2D 점유 격자 지도(occupancy grid map)[12]는 환경을 로봇이 피해야 할 점유 공간과 로봇이 횡단할 수 있는 자유 공간으로 간단히 분류하기 때문에 널리 사용됩니다. 이러한 이진 분류는 로봇이 평평한 지면에서 이동하며 높이가 있는 모든 것을 장애물로 간주하는 실내 환경에 적합하지만, 평평하지 않은 복잡한 지형이 있는 환경에 대한 정보는 부족합니다.

반면, 3D 지도 표현[13]–[15]은 완전한 3D 환경을 표현할 수 있습니다. 그러나 평면에서만 주행하는 모바일 로봇의 경우, 횡단 가능한 지면[18]이나 구성 공간(configuration space)[19]을 추출하기 위한 추가적인 계산 자원이 필요합니다.

2D와 3D의 중간 지점으로, 2.5D 고도 지도(elevation map)[16], [17]가 환경의 높이를 표현하기 위해 제안되었습니다. 고도 지도는 지형의 특성을 표현할 수 있는 능력 덕분에 거친 지형, 경사, 요철 등을 포함한 비정형 환경을 표현하는 데 자주 선택됩니다[20]. 본 연구에서는 산악 및 거친 지형과 같은 비정형 환경에 초점을 맞추며, 따라서 고도 지도를 사용하여 환경을 표현합니다.

#### B. 횡단 가능성을 고려한 경로 계획
평평한 지형에서의 내비게이션과 비교할 때, 비정형 지형은 충돌 공간인지 여부를 판단하기 어려워 모호합니다. 이 문제를 해결하기 위해 다양한 관점에서 횡단 가능성을 추정하는 여러 접근법이 제안되었습니다. 기하학적 접근법은 경사, 거칠기, 요철과 같은 지형의 기하학적 특성을 고려합니다[20]–[25]. 기하학적 횡단 가능성 지도는 안전한 지형 정보를 포함하고 있어 경로 계획에 활용될 수 있습니다. 그러나 이러한 지도는 종종 지형 진입 방향이나 도달 가능성을 고려하지 않고 단일 방향에서의 횡단 가능성만을 추정합니다.

몇몇 접근법은 기하학적 정보로는 알 수 없는 지형의 의미적(semantic) 정보를 처리하려고 시도했습니다[26]–[28]. 이러한 방법은 진흙, 물, 잔디와 같은 다양한 지형에 효과적이지만, 광범위한 라벨링 데이터가 필요하며 보지 못한 데이터에 대한 일반화가 제한됩니다. 최근에는 학습 기반 방법이 로봇의 움직임을 추정하여 횡단 가능성을 예측하는 데 사용되기도 했습니다[29]–[32]. 이러한 방법은 주어진 전역 경로를 고려하여 로봇의 움직임을 국부적으로 최적화하는 것을 목표로 합니다. 그러나 주어진 전역 경로가 안전하지 않다면, 로봇이 국부적으로 경로를 안전하게 최적화하더라도 여전히 위험에 처할 수 있습니다.

본 연구는 제안된 그래프 구조를 통해 기하학적 횡단 가능성에 초점을 맞추며, 비정형 환경에서 전역적으로 안전하고 짧은 경로를 계획하는 것을 목표로 합니다. 따라서 제안된 방법은 단순한 경로 추종기를 포함한 전역 경로 계획자로서 기능할 수 있으며, 앞서 언급한 의미적 또는 국부적 최적화 방법들과 자율 내비게이션 프레임워크에서 결합될 수 있습니다.
### III. 횡단 위험 그래프 (Traversal Risk Graph, TRG)
안전한 경로를 찾는 주요 목표는 로봇이 넘어지거나, 발을 헛디디거나, 비틀거릴 위험을 최소화하는 것입니다. 우리는 이 문제를 해결하기 위해 횡단 위험 그래프(TRG)를 제안하며, 그 프레임워크는 그림 2에 설명되어 있습니다. TRG는 횡단 특성을 효과적으로 표현하는 노드와 엣지로 구성됩니다(섹션 III.A). TRG는 산발적 확산 샘플링 방법을 사용하여 초기화됩니다(섹션 III.B). 이후 TRG는 계층적으로 관리됩니다(섹션 III.C). 마지막으로, TRG를 활용하여 위험을 고려한 비용 함수로 안전한 경로를 최적화합니다(섹션 III.D).

#### A. TRG 구성 요소
환경은 Q ∈ R³로 표기되며, 이는 로봇 내비게이션의 작업 공간을 나타냅니다. TRG는 전체 환경의 기하학적 세부 사항을 다루기보다는 경로 후보의 상대적 위험과 도달 가능성을 고려하여 경로 계획에 적합한 방식으로 Q를 표현하도록 설계되었습니다. TRG는 3D 공간 Q를 노드 집합 V와 엣지 집합 E로 구성된 저차원 무방향 그래프 구조 G = (V, E)로 해석합니다.

1) **노드**: 각 노드 vi = (pi, si, Ei) ∈ V는 로봇이 서 있을 수 있고 현재 위치에서 도달 가능한 영역을 나타냅니다. 여기서 pi ∈ R³는 노드의 위치, si는 노드의 상태, Ei는 노드 vi에 연결된 엣지 E의 부분 집합입니다. 해당 지형 영역은 로봇 몸체에 맞는 반경 rrobot을 가진 내접원 ci로 정의되며, pi는 ci의 중심입니다. 노드의 상태 si를 결정하기 위해, 로봇의 절대 기하학적 안정성 g(ci)와 노드 도달 가능성 r(Ei) 메트릭이 다음과 같이 정의됩니다:

```
g(ci) = 1{∀h(xk,yk) : |h(xk,yk) − hmid| < hmax},
r(Ei) = 1{n(Ei) > 0},
```
여기서 h(xk,yk) = {zk |(xk,yk) ∈ ci}, hmid는 영역 ci의 중간 높이, hmax는 극복 가능한 최대 높이 임계값, n(Ei)는 노드 vi에 연결된 엣지의 수를 각각 나타냅니다. g(ci)와 r(Ei)는 조건이 만족되면 1을, 그렇지 않으면 0을 반환하는 이진 지표 함수 1{condition}로 공식화됩니다. 따라서 g(ci)는 노드 영역이 충돌이 없거나 서 있기 너무 거친지 여부를 판단하고, r(Ei)는 로봇이 연결된 엣지를 통해 노드 vi에 도달할 수 있는지 확인하는 데 사용됩니다. 결과적으로 노드의 상태 si는 안정성과 도달 가능성 메트릭을 결합하여 다음과 같이 유효(valid) 또는 무효(invalid)로 분류됩니다:

```
si = valid, if g(ci) ∧ r(Ei),
     invalid, otherwise.
```

2) **엣지**: 엣지 eij = (vj, dij, wij) ∈ Ei는 노드 vi에서 목적지 노드 vj로 이동할 수 있는 경로 후보를 나타내며, 여기서 dij = ∥pi − pj∥이고 wij는 엣지의 가중치입니다. 특히 wij는 로봇이 안정성을 잃거나 경로를 방해할 수 있는 장애물에 직면할 잠재적 상대적 위험을 나타냅니다.

wij를 정량화하기 위해, 경로 근처 영역은 측정된 높이 지도의 주성분 분석(PCA)을 사용하여 타원 평면 ξ로 근사됩니다(그림 3 참조). 먼저, 엣지 eij는 다음 세 조건이 만족될 때만 연결될 수 있습니다: (i) ξ를 형성하는 영역에 세 개 이상의 높이 점이 있을 것, (ii) ξ 내 모든 높이 점의 편차가 hmax보다 작을 것, (iii) 엣지가 너무 가파프지 않을 것, 즉 다음 방정식을 만족해야 합니다:

```
tan⁻¹(|pi(z) − pj(z)| / ∥pi(x,y) − pj(x,y)∥) < tan⁻¹(hmax / rrobot).
```

그 후, 유효한 엣지의 wij는 다음과 같이 정의됩니다:

```
wij = γRξ_lon + (1 − γ)Rξ_lat,
Rξ_dir = −êξ_dir · g, dir ∈ {lon, lat},
```

여기서 Rξ_lon과 Rξ_lat는 각각 경로 후보를 따라 종방향(longitudinal)과 횡방향(latitudinal) 위험을 나타냅니다. 여기서 êξ_lon과 êξ_lat는 타원 평면의 정규화된 고유 벡터이고, γ는 종방향 위험의 전체 위험에 대한 비율입니다. Rξ_lon과 Rξ_lat는 고유 벡터와 중력 벡터 g = [0, 0, −1]의 음의 내적으로 계산됩니다. 즉, 위험 wij는 경로가 해당 방향으로 기울어질 때 로봇이 넘어질 가능성이 더 크다는 것을 반영합니다.

결과적으로, 노드로 표현된 영역은 엣지 선택에 따라 도달 가능하거나 도달 불가능한 것으로 간주될 수 있습니다. 상대적 위험 wij는 지형으로의 진입 방향에 따라 횡단 난이도를 결정하기 때문입니다. 예를 들어, 높은 위험 가중치를 가진 정면 방향의 엣지를 통해 노드 vj에 도달하는 것은 로봇에게 어려울 수 있습니다. 그러나 더 낮은 가중치의 대안 방향 엣지(ei∗와 e∗j)의 조합을 통해 vj에 안전하게 도달할 수 있습니다. 이러한 경우, vj는 안전한 방향 엣지 선택의 제약 하에 도달 가능한 것으로 간주됩니다.

#### B. TRG 구성
TRG는 확률적 로드맵(PRM)[33]과 유사한 샘플링 기반 방식으로 구성됩니다. 그러나 전체 환경 Q에서 샘플링하는 대신, TRG는 현재 로봇 위치를 나타내는 참조 노드 vref 주변에서 노드를 샘플링하여 초기화됩니다. 즉, 노드는 참조 노드에서 바깥쪽으로 파형 전파와 유사하게 점진적으로 추가됩니다. 이 전략은 로봇의 현재 위치에서 탐색 가능한 영역만 TRG에 포함시켜 그래프 구성의 시간 효율성을 크게 향상시키는 것을 목표로 합니다.

그래프 구성 과정은 세 단계로 나뉩니다: 노드 샘플링, 횡단 위험 확인, 엣지 연결. 처음에 노드는 참조 노드 pref를 중심으로 노드 확장 반경 rexp를 반지름으로 하는 원 위에서 균일 분포를 따라 무작위로 샘플링됩니다. 이는 너무 짧은 경로는 평면을 근사하여 wij를 추정하기에 부적합하고, 너무 긴 경로는 지형의 기하학적 특성을 정확히 나타낼 수 없기 때문입니다. 노드가 샘플링되면, 식 (2)와 (3)을 통해 횡단 위험이 확인됩니다. 그림 4에 묘사된 바와 같이, 샘플링된 노드에는 세 가지 가능한 경우가 있습니다: (i) 샘플링된 노드가 식 (2)에 의해 무효 상태로 판단되면 폐기됩니다. (ii) 샘플링된 노드에서 rrobot 반경 내에 기존 노드가 있으면 기존 노드와 병합되고, vref와 기존 노드 사이에 엣지가 연결됩니다. (iii) 그렇지 않으면, 샘플링된 노드는 노드 집합 V와 확장 큐에 추가되며, 이후 vref와 샘플링된 노드 사이에 엣지가 연결됩니다.

또한, 샘플링된 노드에서 rexp 내에 있는 모든 노드도 샘플링된 노드와 연결됩니다. 마지막으로, 확장 큐의 맨 앞 노드가 새로운 참조 노드가 되고, 확장 큐가 비어질 때까지 이 과정이 반복되어 모든 횡단 가능한 공간을 효과적으로 표현할 수 있게 됩니다.
#### C. TRG 관리
TRG가 초기화된 후, 그래프는 그림 5에 나타난 바와 같이 계층적으로 업데이트됩니다. 기본적으로 TRG는 전역 그래프로 관리되지만, 로봇 주변의 국부 측정값에서 국부 노드 Vl ⊂ V가 추출됩니다. 업데이트 단계에서 Vl의 모든 노드는 다음 식에 따라 그 상태가 프론티어(frontier)인지 확인됩니다:

```
Vf = {vi | si = valid ∧ ui ∉ QG, vi ∈ Vl},
ui = pi + 2rrobot * (pi − pcur) / ∥pi − pcur∥.
```

여기서 Vf ⊂ Vl은 프론티어 노드 집합, QG ⊂ Q는 G가 커버하는 영역, pcur은 현재 로봇 위치, ui는 유효 노드 vi에서 로봇으로부터 멀어지는 방향의 벡터를 나타냅니다. 따라서 프론티어 노드는 ui가 QG 밖에 있는지 확인함으로써 간단히 결정되며, 이는 vi가 리프 노드(leaf node)임을 나타냅니다. 프론티어 노드가 없는 Vl은 식 (2)에 따라 노드의 안정성과 도달 가능성을 확인하여 업데이트됩니다. 엣지도 유효한 국부 노드 간에만 식 (3)과 (4)를 통해 업데이트됩니다. 그런 다음, 그래프는 Vf를 참조 노드로 사용하여 산발적으로 확장됩니다. 마지막으로, 업데이트되고 확장된 Vl은 전역 그래프 G = (V, E)에 다음과 같이 통합됩니다:

```
V ← V ∪ Vl,
E ← E ∪ {eij | vi, vj ∈ Vl}.
```

#### D. TRG 계획
계획 단계에서는 A*[34]와 같은 그래프 탐색 알고리즘을 적용하여 현재 로봇 위치에서 목표 위치까지의 경로를 찾을 수 있습니다. TRG는 로봇이 안전하게 내비게이션할 수 있는 실행 가능한 경로를 포함하고 있지만, 기존 비용 함수는 일반적으로 거리만 최적화하므로 안전한 내비게이션에는 부족합니다. 따라서 우리는 A*의 비용 함수를 확장하여 경로의 잠재적 횡단 위험을 고려하도록 다음과 같이 정의합니다:

```
C(vi+1) = C(vi) + di+1,i (Γwi+1,i + 1),
J(vi+1) = C(vi+1) + ∥pi+1 − pgoal∥,
```

여기서 Γ는 경로의 안전 수준을 조정할 수 있는 안전 계수이고, pgoal은 목표 위치입니다. C(vi+1)는 시작점에서 탐색 목표 노드까지의 경로 비용으로, 이전 비용 C(vi), 식 (4)에서 계산된 vi와 vi+1 사이 엣지의 상대적 위험 wi+1,i, 그리고 노드 간 유클리드 거리 di+1,i로 구성됩니다. C(vi+1)의 두 번째 항 덕분에 거리와 경로 위험을 모두 최소화하는 경로를 얻을 수 있으며, Γ가 클수록 더 안전한 경로가 생성됩니다. 따라서 J(vi+1)는 목표 위치 pgoal까지의 최소 거리를 계산하는 휴리스틱 함수를 포함한 경로의 총 비용입니다.

목표 위치 pgoal이 질의되면, 비용 함수 J(vi+1)를 최소화하여 경로가 결정됩니다. 그러나 목표 위치가 TRG에 포함되어 있지 않으면, 로봇은 목표 위치에 가장 가까운 프론티어 노드 중 하나를 서브 목표로 설정합니다(그림 5 참조). 그런 다음, 업데이트 과정과 재계획을 반복하여 서브 목표 노드가 목표 노드가 됩니다. 동시에, TRG가 업데이트되면서 계획된 경로가 무효화되면 재계획이 수행됩니다.
### IV. 실험
우리는 제안된 TRG-planner의 효과를 입증하기 위해 Unitree Go1 4족 로봇을 활용하여 실험을 수행했습니다(그림 6(a) 참조). 이 로봇은 견고한 이동 제어기인 DreamWaQ [6]를 사용하여 시뮬레이션 및 실세계 환경에서 테스트되었습니다. 로봇의 자세와 국부 고도 지도는 각각 [35]와 [17]에서 약간 수정된 버전을 사용해 획득했습니다. TRG-planner가 경로를 생성하면, 로봇은 순수 추적 알고리즘(pure pursuit algorithm) [36]을 사용하여 자율적으로 경로를 따랐습니다.

실험에 사용된 제안 방법의 매개변수는 표 I에 나열되어 있습니다. 사전 정의된 지도의 해상도 ρmap는 모든 실험에서 통일되었습니다. rrobot, rexp, hmax는 로봇 특성에 맞게 설정되었으며, 각각 로봇의 너비, 로봇의 길이, 극복 가능한 최대 높이를 나타냅니다. γ는 0과 1 사이로 제한되며, Γ ∈ R은 거리와 안전성 간의 균형을 조정하는 조정 가능한 매개변수로, 하한은 0입니다. 본 연구에서는 γ와 Γ를 경험적으로 설정했지만, 안전 전략에 따라 조정할 수 있습니다.

#### A. 실험 설정
1) **시뮬레이션 환경**: 시뮬레이션 환경은 50m×50m×6.9m 크기의 불규칙한 경사를 가진 야생 산악 지역이었습니다(그림 6(b) 참조). 이 환경은 완만한 경사와 가파른 경사를 포함하고 있어, 로봇이 안전하고 거리 효율적인 내비게이션을 위해 지형을 통과할지 우회할지 결정해야 했습니다. 우리는 제안된 방법을 바닐라 A* [34], PRM* [37], T-Hybrid [24] 알고리즘과 비교하여 안전성과 효율성의 개선을 입증했습니다. 또한, TRG-planner의 균형 전략(Γ = 3.0), 낙관적 전략(Γ = 1.0), 보수적 전략(Γ = 10.0)을 비교하여 안전 계수 Γ에 따른 거리와 안전성 간의 균형을 조사했습니다. 비스무스 경로를 피하기 위해 모든 비교 방법에 이동 평균법 [38]을 사용한 사후 평활화(post-smoothing)를 적용했습니다. 비교는 Intel Core i7-11700K CPU를 탑재한 데스크톱 PC에서 2Hz로 수행되었습니다.

시작점과 목표점 간 직선 거리에 따라 세 가지 시나리오를 설정했습니다: 단거리(10m), 중거리(20m), 장거리(30m). 각 시나리오에서 100개의 시작 및 목표 위치와 방향 각도가 무작위로 생성되었으며, 생성된 위치가 로봇이 서기에 부적합할 경우 재샘플링했습니다.

2) **실세계 환경**: TRG-planner를 세 가지 실세계 환경에서 테스트했습니다: 산악 환경, 언덕 환경, 그리고 극도로 어려운 QRC 아레나 [39]. 첫째, 산악 환경은 83m×151m×38.3m 크기로, 경사, 계단, 좁은 통로 등 다양한 지형을 포함하여 로봇이 적절한 경로를 결정하기 어려운 환경이었습니다. 이 환경은 비정형 지형에서의 장거리 전역 경로 계획 능력을 테스트하기 위해 선택되었습니다. 둘째, 언덕 환경은 10m×14m×17.5m 크기로, 방향에 따라 경사가 달라 오를 수 있는 방향이 하나뿐이었습니다. 이는 로봇이 언덕을 오를 안전한 방향을 찾는 능력을 테스트하기 위해 설계되었습니다. 마지막으로, QRC 아레나는 램프, 스텝 오버가 있는 부드러운 바닥, 파이프가 있는 계단, K-레일이 있는 바닥, 상자 모양 지형 등 5개 섹션으로 구성되었으며, 일부 섹션은 15°에 달하는 가파른 경사를 포함했습니다. 로봇은 각 섹션에서 가장 안전한 경로를 선택하여 아레나를 성공적으로 탐색해야 했습니다.

#### B. 평가 지표
계획 방법의 성능, 안전성, 이동 거리, 시간 효율성을 평가하기 위해 시뮬레이션 환경에서 경로 계획 성공률(Spath), 이동 성공률(Strav), 계획된 경로 길이(Lpath), 계획 시간을 측정했습니다. 경로 계획 성공률은 경사나 좁은 보도와 같은 다양한 지형에서의 계획 성능을 반영합니다. 이동 성공률은 로봇의 몸체가 지면에 닿지 않고 목표 위치에 도달하는 것으로 정의되며, 계획된 경로가 로봇이 안정적으로 이동하기에 얼마나 안전한지를 나타냅니다. 또한, 로봇이 성공적으로 이동할 때 경로의 안전성을 측정하기 위해 두 가지 새로운 지표를 도입했습니다. 이동 경로 편차(T)와 정규화된 경로 위험(W)은 다음과 같이 정의됩니다:

```
T = (Ltrav − Lpath) / Ltrav * (n−1),
W = (1 / Lpath) * Σ(i=1 to n-1) wi+1,i,
```

여기서 Ltrav는 실제 이동 거리입니다. T는 실제 이동 거리가 계획된 경로 길이와 얼마나 유사한지를 나타내며, T가 클수록 이동 중 비틀거림, 미끄러짐, 또는 어려움이 빈번했음을 의미합니다. T의 과대 추정을 피하기 위해 T가 음수일 경우 T = 0으로 설정했습니다. W는 계획된 경로를 따라 TRG 엣지의 가중치에서 파생되어 경로의 안전 수준을 반영합니다.
### V. 결과 및 논의
실험 결과는 TRG-planner가 (i) 환경을 효율적인 그래프 구조로 성공적으로 구성하고, (ii) 기존 방법보다 상대적 위험과 도달 가능성을 고려하여 더 안전한 경로를 더 빠르게 찾으며, (iii) 실제 4족 로봇에서 효과적으로 작동한다는 우리의 주장을 뒷받침합니다.

#### A. 안전 전략 비교
표 II는 안전 계수 Γ에 따른 제안된 TRG-planner의 안전 전략 비교를 보여줍니다. 짧은 경로를 선호하는 낙관적 전략의 Lpath는 세 가지 전략 중 항상 가장 짧았습니다. 그러나 가장 짧은 경로는 때때로 횡단 위험을 간과하여 높은 T와 낮은 Strav를 초래했습니다. 보수적 전략은 짧은 경로보다 안전한 경로에 초점을 맞추어 가장 낮은 W를 기록했지만, 때로는 횡단 위험을 과도하게 회피하여 긴 경로를 생성하며 T와 Strav에 부정적인 영향을 미쳤습니다. 이 두 전략과 달리, 균형 전략은 Lpath와 W 사이에서 좋은 균형을 달성했습니다. 특히, 균형 전략의 T와 Strav는 모든 시나리오에서 항상 최고였으며, 이는 Lpath가 가장 짧지 않더라도 로봇이 넘어지지 않고 안전하게 이동할 수 있는 경로를 발견했음을 시사합니다.

#### B. 기존 방법과의 비교
Spath와 Strav 결과는 그림 7에 나타나 있습니다. 기존 방법들은 매우 불규칙한 환경에서 경로 계획에 어려움을 겪었습니다. 그러나 제안된 방법은 방향을 고려한 지형의 도달 가능성을 표현함으로써 환경 전체를 이해할 수 있어 모든 시나리오에서 다른 방법보다 높은 Spath를 보였습니다. 또한, TRG-planner는 계획 중 경로의 상대적 위험을 고려하여 넘어질 위험을 최소화함으로써 다른 방법보다 높은 Strav를 달성했습니다. 더욱이 제안된 방법은 시나리오 길이가 증가함에 따라 일관된 Strav를 보인 반면, 다른 방법들은 감소하는 경향을 보였습니다.

계획 시간 결과는 표 III에 나타나 있습니다. A*는 단거리 시나리오에서 병목 현상 없이 계획할 수 있었지만, 시나리오 길이가 증가함에 따라 계획 시간이 증가했습니다. PRM*은 샘플 수에 크게 의존하는 로드맵을 초기화하며, TRG 노드와 동일한 샘플 수로 설정되었습니다. PRM*과 T-Hybrid 방법은 경쟁력 있는 계획 시간을 보였으나, 지도 전처리 방법으로 인해 초기화 시간이 더 길었습니다. TRG-planner는 안전한 경로 계획에 필요한 정보만 포함하여 구성되므로 모든 시나리오에서 가장 짧은 계획 시간을 보였습니다.

장거리 시나리오에서 다섯 개의 시작-목표 쌍을 선택하여 경로 계획 결과를 질적으로 비교했습니다. 그림 8에 나타난 바와 같이, A*와 PRM*은 좁은 계곡을 과도하게 우회하거나, 충돌 공간으로 간주하여 위험한 지형을 침범하며 최단 경로를 따랐습니다. T-Hybrid는 하이브리드 지도를 통해 횡단 가능성을 고려했지만, 경사면에서 지그재그 경로를 생성하여 로봇에 위험할 수 있었습니다. 반면, TRG-planner는 경로의 상대적 위험과 지형의 도달 가능성을 고려하여 모든 시나리오에서 안전하고 거리 효율적인 경로를 일관되게 보여주었습니다. 이는 표 IV의 정량적 결과에서도 뒷받침되며, TRG-planner는 전략 선택에 관계없이 Lpath와 W에서 높은 순위를 기록했습니다.

의도한 대로, 낙관적 전략을 사용한 우리의 방법은 경로 효율성에 중요한 낮은 Lpath 값을 일관되게 보였습니다. 또한, 보수적 전략은 높은 안전 수준을 나타내는 낮은 W 값을 보였습니다. 결과적으로, 균형 전략을 사용한 TRG-planner는 모든 시나리오에서 최고의 T를 보였으며(몇몇 경우를 제외하고는 근소한 차이로 2위), 이는 로봇이 경로를 효율적이고 안전하게 이동할 수 있음을 나타냅니다.

#### C. 실세계 결과
산악 환경에서 TRG-planner는 지형의 횡단 위험에 따라 비정형 지형을 효율적인 그래프 구조로 성공적으로 분해했습니다(그림 9 참조). 경사, 계단, 좁은 통로 등 다양한 불규칙 지형에도 불구하고, TRG-planner는 총 245m 거리의 안전한 경로를 성공적으로 계획했습니다. 그림 10에서 TRG는 완만한 경사 방향으로만 연결되었는데, 이는 TRG가 경로의 상대적 위험을 고려하여 노드를 연결했기 때문이며, 로봇이 안전한 오르막 경로를 찾을 수 있게 했습니다. 로봇은 가장 안전한 진입 방향을 사용하여 언덕을 자율적으로 오르내리는 데 성공했습니다.

TRG-planner는 QRC 아레나(그림 11)에서도 테스트되었으며, 상대적 횡단 위험을 해결하여 안전한 경로를 계획하는 능력을 입증했습니다. QRC 아레나는 다양한 지형과 15°의 X자형 경사 교차로로 인해 탐색이 어려웠습니다. 그럼에도 불구하고, TRG-planner는 안전한 전역 경로를 성공적으로 계획하고 로봇을 아레나 전역으로 자율 주행하게 하여 DreamSTEP 팀이 이 챌린지에서 우승하게 했습니다.

### VI. 결론 및 향후 연구
본 논문에서는 지형의 도달 가능성과 경로 후보의 상대적 위험을 포착하여 안전하고 거리 효율적인 경로 계획 방법인 TRG-planner를 제안했습니다. 시뮬레이션 및 실세계 실험을 통한 결과는 안전하고 효율적인 내비게이션 행동을 더욱 검증했습니다. TRG-planner의 설계 특징은 방향을 고려한 위험에 있으며, 이는 비홀로노믹(non-holonomic) 로봇에 특화되어 이러한 도전 과제를 효과적으로 해결합니다. 향후에는 TRG-planner의 적용 가능성을 확장하여 더 다양한 플랫폼 유형을 수용할 계획입니다.

